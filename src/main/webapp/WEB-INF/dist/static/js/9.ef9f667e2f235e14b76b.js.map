{"version":3,"sources":["webpack:///src/views/detail/score.vue","webpack:///./src/views/detail/score.vue?a3d2","webpack:///./src/views/detail/score.vue"],"names":["score","name","data","contentH","loading","currentRate","speed","rate","strokeWidth","surplusNum","layerColor","gradientColor","0%","100%","computed","extends_default","Object","vuex_esm","wrapHeight","this","scoreLevel","isPassing","formatDate","time","certificateTime","dateFtt","downUrl","CONFIG","API","certificateNo","mounted","_this","$nextTick","document","documentElement","clientHeight","getData","methods","fmt","date","$Utils","toDate","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","params","res","obj","wrap","_context","prev","next","studentId","info","id","examinationId","$route","query","examid","$Request","get","sent","code","list","residueNum","passingScoreLine","totalScore","stop","onExamAgain","_this3","_callee2","_context2","$router","push","path","isreexam","detail_score","render","_vm","_h","$createElement","_c","_self","staticClass","style","minHeight","_e","_v","_s","attrs","layer-color","color","stroke-width","text","model","value","callback","$$v","expression","href","round","block","type","disabled","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.ef9f667e2f235e14b76b.js","sourcesContent":["<template>\r\n\t<div class=\"score-main\" :style=\"{minHeight: wrapHeight + 'px'}\">\r\n\t\t<template v-if=\"!loading\">\r\n\t\t\t<div class=\"score-content\">\r\n\t\t\t\t<div class=\"score-data-box\">\r\n\t\t\t\t\t<div class=\"score-data\">\r\n\t\t\t\t\t\t<span>我的成绩</span>\r\n\t\t\t\t\t\t<span>{{data.score}}分</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"rate-chart\">\r\n\t\t\t\t\t\t<van-circle v-model=\"currentRate\" :layer-color=\"layerColor\" :speed=\"speed\" :color=\"gradientColor\" :rate=\"rate\" :stroke-width=\"strokeWidth\" :text=\"scoreLevel\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"score-target\">\r\n\t\t\t\t\t<div>总分：{{data.totalScore}}分</div>\r\n\t\t\t\t\t<div>及格分：{{data.passingScoreLine}}分</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"certificate-content\" v-if=\"data.isPassing\">\r\n\t\t\t\t<div class=\"certificate-title\">培训证书编号</div>\r\n\t\t\t\t<template v-if=\"data.certificateNo\">\r\n\t\t\t\t\t<div class=\"certificate-name\">{{data.certificateNo}}</div>\r\n\t\t\t\t\t<div class=\"certificate-date\">发证时间：{{formatDate}}</div>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<div class=\"certificate-name\">证书尚未发布</div>\r\n\t\t\t\t</template>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"score-footer\" v-if=\"!data.isPassing\">\r\n\t\t\t\t<van-button round block type=\"primary\" :disabled=\"data.residueNum===0\" @click=\"onExamAgain\">我要补考（剩余{{data.residueNum}}次）</van-button>\r\n\t\t\t</div>\r\n\t\t\t<template v-else>\r\n\t\t\t\t<div class=\"score-footer\" v-if=\"data.certificateNo\">\r\n\t\t\t\t\t<a :href=\"downUrl\">\r\n\t\t\t\t\t\t<van-button round block type=\"primary\">下载电子证书</van-button>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</template>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport { mapState } from \"vuex\"\r\n\texport default {\r\n\t\tname: 'score',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcontentH: 0,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tcurrentRate: 0,\r\n\t\t\t\tspeed: 200,\r\n\t\t\t\trate: 0,\r\n\t\t\t\tstrokeWidth: 70,\r\n\t\t\t\tsurplusNum: 0,\r\n\t\t\t\tlayerColor: '#ebedf0',\r\n\t\t\t\tgradientColor: {\r\n\t\t\t\t\t'0%': '#95E095',\r\n\t\t\t\t\t'100%': '#1aad19'\r\n\t\t\t\t},\r\n\t\t\t\tdata: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['info']),\r\n\t\t\twrapHeight() {\r\n\t\t\t\treturn this.contentH\r\n\t\t\t},\r\n\t\t\tscoreLevel() {\r\n\t\t\t\tif(this.data.isPassing) {\r\n\t\t\t\t\treturn '及格'\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn '不及格'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tformatDate() {\r\n\t\t\t\tlet time = this.data.certificateTime\r\n\t\t\t\ttime = this.dateFtt('yyyy年MM月dd日', time)\r\n\t\t\t\treturn time\r\n\t\t\t},\r\n\t\t\tdownUrl() {\r\n\t\t\t\tlet downurl = CONFIG.API + '/examination/downloadCertificateByWeChat.do?certificateNo=' + this.data.certificateNo\r\n\t\t\t\treturn downurl\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.contentH = document.documentElement.clientHeight\r\n\t\t\t}),\r\n\t\t\tthis.getData()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdateFtt(fmt, date) {\r\n\t\t\t\tdate = this.$Utils.toDate(date)\r\n\t\t\t\treturn this.$Utils.dateFtt(fmt, date)\r\n\t\t\t},\r\n\t\t\tasync getData() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tstudentId: this.info.id,\r\n\t\t\t\t\texaminationId: this.$route.query.examid\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$Request.get('/examination/getTestPaperByWeChat.do', params)\r\n\t\t\t\tthis.loading = false\r\n\t\t\t\tif(res && res.code === 0) {\r\n\t\t\t\t\tlet obj = res.list || {}\r\n\t\t\t\t\tthis.data = {\r\n\t\t\t\t\t\tisPassing: obj.isPassing,\r\n\t\t\t\t\t\tresidueNum: obj.residueNum,\r\n\t\t\t\t\t\tscore: obj.score,\r\n\t\t\t\t\t\tcertificateNo: obj.certificateNo,\r\n\t\t\t\t\t\tcertificateTime: obj.certificateTime,\r\n\t\t\t\t\t\tpassingScoreLine: obj.passingScoreLine,\r\n\t\t\t\t\t\ttotalScore: obj.totalScore\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.rate = obj.score / obj.totalScore * 100\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//补考\r\n\t\t\tasync onExamAgain() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tstudentId: this.info.id,\r\n\t\t\t\t\texaminationId: this.$route.query.examid\r\n\t\t\t\t}\r\n\t\t\t\tlet res = await this.$Request.get('/examination/updateECbyResit.do', params)\r\n\t\t\t\tif(res && res.code === 0) {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tpath: '/exam',\r\n\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\tid: this.$route.query.id,\r\n\t\t\t\t\t\t\texamid: this.$route.query.examid,\r\n\t\t\t\t\t\t\tisreexam: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/detail/score.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"score-main\",style:({minHeight: _vm.wrapHeight + 'px'})},[(!_vm.loading)?[_c('div',{staticClass:\"score-content\"},[_c('div',{staticClass:\"score-data-box\"},[_c('div',{staticClass:\"score-data\"},[_c('span',[_vm._v(\"我的成绩\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.data.score)+\"分\")])]),_vm._v(\" \"),_c('div',{staticClass:\"rate-chart\"},[_c('van-circle',{attrs:{\"layer-color\":_vm.layerColor,\"speed\":_vm.speed,\"color\":_vm.gradientColor,\"rate\":_vm.rate,\"stroke-width\":_vm.strokeWidth,\"text\":_vm.scoreLevel},model:{value:(_vm.currentRate),callback:function ($$v) {_vm.currentRate=$$v},expression:\"currentRate\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"score-target\"},[_c('div',[_vm._v(\"总分：\"+_vm._s(_vm.data.totalScore)+\"分\")]),_vm._v(\" \"),_c('div',[_vm._v(\"及格分：\"+_vm._s(_vm.data.passingScoreLine)+\"分\")])])]),_vm._v(\" \"),(_vm.data.isPassing)?_c('div',{staticClass:\"certificate-content\"},[_c('div',{staticClass:\"certificate-title\"},[_vm._v(\"培训证书编号\")]),_vm._v(\" \"),(_vm.data.certificateNo)?[_c('div',{staticClass:\"certificate-name\"},[_vm._v(_vm._s(_vm.data.certificateNo))]),_vm._v(\" \"),_c('div',{staticClass:\"certificate-date\"},[_vm._v(\"发证时间：\"+_vm._s(_vm.formatDate))])]:[_c('div',{staticClass:\"certificate-name\"},[_vm._v(\"证书尚未发布\")])]],2):_vm._e(),_vm._v(\" \"),(!_vm.data.isPassing)?_c('div',{staticClass:\"score-footer\"},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"primary\",\"disabled\":_vm.data.residueNum===0},on:{\"click\":_vm.onExamAgain}},[_vm._v(\"我要补考（剩余\"+_vm._s(_vm.data.residueNum)+\"次）\")])],1):[(_vm.data.certificateNo)?_c('div',{staticClass:\"score-footer\"},[_c('a',{attrs:{\"href\":_vm.downUrl}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"primary\"}},[_vm._v(\"下载电子证书\")])],1)]):_vm._e()]]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8edea280\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/detail/score.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8edea280\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./score.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./score.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./score.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8edea280\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./score.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/detail/score.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}