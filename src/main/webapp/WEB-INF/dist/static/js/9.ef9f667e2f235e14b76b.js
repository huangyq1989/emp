webpackJsonp([9],{"3v1Y":function(t,e){},DwLq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),r=a.n(i),s=a("exGp"),n=a.n(s),c=a("Dd8w"),o=a.n(c),d=a("NYxO"),u={name:"score",data:function(){return{contentH:0,loading:!0,currentRate:0,speed:200,rate:0,strokeWidth:70,surplusNum:0,layerColor:"#ebedf0",gradientColor:{"0%":"#95E095","100%":"#1aad19"},data:{}}},computed:o()({},Object(d.c)(["info"]),{wrapHeight:function(){return this.contentH},scoreLevel:function(){return this.data.isPassing?"及格":"不及格"},formatDate:function(){var t=this.data.certificateTime;return t=this.dateFtt("yyyy年MM月dd日",t)},downUrl:function(){return CONFIG.API+"/examination/downloadCertificateByWeChat.do?certificateNo="+this.data.certificateNo}}),mounted:function(){var t=this;this.$nextTick(function(){t.contentH=document.documentElement.clientHeight}),this.getData()},methods:{dateFtt:function(t,e){return e=this.$Utils.toDate(e),this.$Utils.dateFtt(t,e)},getData:function(){var t=this;return n()(r.a.mark(function e(){var a,i,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={studentId:t.info.id,examinationId:t.$route.query.examid},e.next=3,t.$Request.get("/examination/getTestPaperByWeChat.do",a);case 3:i=e.sent,t.loading=!1,i&&0===i.code&&(s=i.list||{},t.data={isPassing:s.isPassing,residueNum:s.residueNum,score:s.score,certificateNo:s.certificateNo,certificateTime:s.certificateTime,passingScoreLine:s.passingScoreLine,totalScore:s.totalScore},t.rate=s.score/s.totalScore*100);case 6:case"end":return e.stop()}},e,t)}))()},onExamAgain:function(){var t=this;return n()(r.a.mark(function e(){var a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={studentId:t.info.id,examinationId:t.$route.query.examid},e.next=3,t.$Request.get("/examination/updateECbyResit.do",a);case 3:(i=e.sent)&&0===i.code&&t.$router.push({path:"/exam",query:{id:t.$route.query.id,examid:t.$route.query.examid,isreexam:1}});case 5:case"end":return e.stop()}},e,t)}))()}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"score-main",style:{minHeight:t.wrapHeight+"px"}},[t.loading?t._e():[a("div",{staticClass:"score-content"},[a("div",{staticClass:"score-data-box"},[a("div",{staticClass:"score-data"},[a("span",[t._v("我的成绩")]),t._v(" "),a("span",[t._v(t._s(t.data.score)+"分")])]),t._v(" "),a("div",{staticClass:"rate-chart"},[a("van-circle",{attrs:{"layer-color":t.layerColor,speed:t.speed,color:t.gradientColor,rate:t.rate,"stroke-width":t.strokeWidth,text:t.scoreLevel},model:{value:t.currentRate,callback:function(e){t.currentRate=e},expression:"currentRate"}})],1)]),t._v(" "),a("div",{staticClass:"score-target"},[a("div",[t._v("总分："+t._s(t.data.totalScore)+"分")]),t._v(" "),a("div",[t._v("及格分："+t._s(t.data.passingScoreLine)+"分")])])]),t._v(" "),t.data.isPassing?a("div",{staticClass:"certificate-content"},[a("div",{staticClass:"certificate-title"},[t._v("培训证书编号")]),t._v(" "),t.data.certificateNo?[a("div",{staticClass:"certificate-name"},[t._v(t._s(t.data.certificateNo))]),t._v(" "),a("div",{staticClass:"certificate-date"},[t._v("发证时间："+t._s(t.formatDate))])]:[a("div",{staticClass:"certificate-name"},[t._v("证书尚未发布")])]],2):t._e(),t._v(" "),t.data.isPassing?[t.data.certificateNo?a("div",{staticClass:"score-footer"},[a("a",{attrs:{href:t.downUrl}},[a("van-button",{attrs:{round:"",block:"",type:"primary"}},[t._v("下载电子证书")])],1)]):t._e()]:a("div",{staticClass:"score-footer"},[a("van-button",{attrs:{round:"",block:"",type:"primary",disabled:0===t.data.residueNum},on:{click:t.onExamAgain}},[t._v("我要补考（剩余"+t._s(t.data.residueNum)+"次）")])],1)]],2)},staticRenderFns:[]};var v=a("VU/8")(u,l,!1,function(t){a("3v1Y")},null,null);e.default=v.exports}});
//# sourceMappingURL=9.ef9f667e2f235e14b76b.js.map